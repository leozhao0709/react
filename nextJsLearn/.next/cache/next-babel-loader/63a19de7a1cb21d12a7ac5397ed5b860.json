{"ast":null,"code":"var _jsxFileName = \"/Users/leizhao/Documents/my_git/react/nextJsLearn/src/pages/[country]/[showId]/index.tsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport styles from './index.module.scss';\nimport axios from 'axios';\nimport { useRouter } from 'next/router';\nimport parse from 'html-react-parser';\nimport Casts from '../../../components/casts';\n\nconst CountryDetail = props => {\n  const {\n    show\n  } = props;\n  const route = useRouter();\n\n  if (route.isFallback) {\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n\n  return __jsx(\"div\", {\n    className: styles.countryDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.poster,\n    style: {\n      backgroundImage: `url(${show.image.original})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }\n  }), __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }\n  }, show.name), parse(show.summary), show._embedded && show._embedded.cast.length > 0 && __jsx(Casts, {\n    casts: show._embedded.cast,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 60\n    }\n  }));\n};\n\nexport const getStaticProps = async ctx => {\n  const {\n    params\n  } = ctx;\n  const showId = params && params.showId;\n  const req = await axios.get(`http://api.tvmaze.com/shows/${showId}?embed=cast`);\n  const show = req.data;\n  return {\n    props: {\n      show\n    }\n  };\n};\nexport const getStaticPaths = async () => {\n  const paths = [{\n    params: {\n      country: 'us',\n      showId: '339141'\n    }\n  }];\n  return {\n    paths,\n    fallback: true\n  };\n};\nCountryDetail.defaultProps = {};\nexport default CountryDetail;","map":{"version":3,"sources":["/Users/leizhao/Documents/my_git/react/nextJsLearn/src/pages/[country]/[showId]/index.tsx"],"names":["React","styles","axios","useRouter","parse","Casts","CountryDetail","props","show","route","isFallback","countryDetails","poster","backgroundImage","image","original","name","summary","_embedded","cast","length","getStaticProps","ctx","params","showId","req","get","data","getStaticPaths","paths","country","fallback","defaultProps"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,KAAP,MAAkB,2BAAlB;;AAMA,MAAMC,aAA2C,GAAIC,KAAD,IAA+B;AACjF,QAAM;AAAEC,IAAAA;AAAF,MAAWD,KAAjB;AACA,QAAME,KAAK,GAAGN,SAAS,EAAvB;;AACA,MAAIM,KAAK,CAACC,UAAV,EAAsB;AACpB,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AACD;;AAED,SACE;AAAK,IAAA,SAAS,EAAET,MAAM,CAACU,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEV,MAAM,CAACW,MAAvB;AAA+B,IAAA,KAAK,EAAE;AAAEC,MAAAA,eAAe,EAAG,OAAML,IAAI,CAACM,KAAL,CAAWC,QAAS;AAA9C,KAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKP,IAAI,CAACQ,IAAV,CAFF,EAGGZ,KAAK,CAACI,IAAI,CAACS,OAAN,CAHR,EAIGT,IAAI,CAACU,SAAL,IAAkBV,IAAI,CAACU,SAAL,CAAeC,IAAf,CAAoBC,MAApB,GAA6B,CAA/C,IAAoD,MAAC,KAAD;AAAO,IAAA,KAAK,EAAEZ,IAAI,CAACU,SAAL,CAAeC,IAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJvD,CADF;AAQD,CAfD;;AAiBA,OAAO,MAAME,cAA8B,GAAG,MAAMC,GAAN,IAAa;AACzD,QAAM;AAAEC,IAAAA;AAAF,MAAaD,GAAnB;AACA,QAAME,MAAM,GAAGD,MAAM,IAAIA,MAAM,CAACC,MAAhC;AACA,QAAMC,GAAG,GAAG,MAAMvB,KAAK,CAACwB,GAAN,CAAW,+BAA8BF,MAAO,aAAhD,CAAlB;AACA,QAAMhB,IAAI,GAAGiB,GAAG,CAACE,IAAjB;AACA,SAAO;AACLpB,IAAAA,KAAK,EAAE;AACLC,MAAAA;AADK;AADF,GAAP;AAKD,CAVM;AAYP,OAAO,MAAMoB,cAA8B,GAAG,YAAY;AACxD,QAAMC,KAAK,GAAG,CAAC;AAAEN,IAAAA,MAAM,EAAE;AAAEO,MAAAA,OAAO,EAAE,IAAX;AAAiBN,MAAAA,MAAM,EAAE;AAAzB;AAAV,GAAD,CAAd;AACA,SAAO;AACLK,IAAAA,KADK;AAELE,IAAAA,QAAQ,EAAE;AAFL,GAAP;AAID,CANM;AAQPzB,aAAa,CAAC0B,YAAd,GAA6B,EAA7B;AAEA,eAAe1B,aAAf","sourcesContent":["import React from 'react';\nimport { NextPage, GetStaticProps, GetStaticPaths } from 'next';\nimport styles from './index.module.scss';\nimport axios from 'axios';\nimport { useRouter } from 'next/router';\nimport parse from 'html-react-parser';\nimport Casts from '../../../components/casts';\n\ninterface CountryDetailProps extends React.HTMLAttributes<HTMLDivElement> {\n  show: any;\n}\n\nconst CountryDetail: NextPage<CountryDetailProps> = (props: CountryDetailProps) => {\n  const { show } = props;\n  const route = useRouter();\n  if (route.isFallback) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div className={styles.countryDetails}>\n      <div className={styles.poster} style={{ backgroundImage: `url(${show.image.original})` }}></div>\n      <h1>{show.name}</h1>\n      {parse(show.summary)}\n      {show._embedded && show._embedded.cast.length > 0 && <Casts casts={show._embedded.cast} />}\n    </div>\n  );\n};\n\nexport const getStaticProps: GetStaticProps = async ctx => {\n  const { params } = ctx;\n  const showId = params && params.showId;\n  const req = await axios.get(`http://api.tvmaze.com/shows/${showId}?embed=cast`);\n  const show = req.data;\n  return {\n    props: {\n      show\n    }\n  };\n};\n\nexport const getStaticPaths: GetStaticPaths = async () => {\n  const paths = [{ params: { country: 'us', showId: '339141' } }];\n  return {\n    paths,\n    fallback: true\n  };\n};\n\nCountryDetail.defaultProps = {};\n\nexport default CountryDetail;\n"]},"metadata":{},"sourceType":"module"}